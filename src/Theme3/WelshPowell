import java.util.*;

public class WelshPowell {

    public static int colorier(Graphe g) {

        // 1. Récupération des sommets triés par degré décroissant
        List<Sommet> sommets = new ArrayList<>(g.getSommets());
        sommets.sort((s1, s2) ->
                Integer.compare(g.getDegre(s2), g.getDegre(s1))
        );

        // 2. Reset des couleurs
        for (Sommet s : sommets) s.setCouleur(-1);

        int couleurActuelle = 0;
        for (Sommet s : sommets) {
            if (s.getCouleur() != -1) continue;

            s.setCouleur(couleurActuelle);

            // 3. Tenter de colorier les autres sommets compatibles
            for (Sommet autre : sommets) {
                if (autre.getCouleur() == -1 &&
                        !g.sontAdjacents(autre, s)) {

                    boolean compatible = true;

                    for (Sommet deja : sommets) {
                        if (deja.getCouleur() == couleurActuelle &&
                                g.sontAdjacents(deja, autre)) {
                            compatible = false;
                            break;
                        }
                    }

                    if (compatible) autre.setCouleur(couleurActuelle);
                }
            }

            couleurActuelle++;
        }

        return couleurActuelle;
    }
}
